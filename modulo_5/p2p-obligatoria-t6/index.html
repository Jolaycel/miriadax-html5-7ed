<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<title>Calculadora Práctica Obligatoria Módulo 5</title>
<meta charset="utf-8">
<script type="text/javascript">
$(function() {
	var valorAnterior = 0;
	$("#num").on("click", 
		function(){ $("#num").val("");}
	);
	$("#mas").on("click", 
		function() {
			var num = $("#num");
			num.val(num.val() + num.val());
		}
	);
	$("#menos").on("click", 
		function() {
			var num = $("#num");
			num.val(num.val() * num.val());
		}
	);
});

  // Operaciones binarias (dos operandos)
  function mas()   { acc = num.value;  op = "+"; }
  function menos() { acc = num.value;  op = "-"; }
  function multiplica() { acc = num.value;  op = "*"; }
  function divide() { acc = num.value;  op = "/"; }
  function potN() { acc = num.value;  op = "pN"; }

  // Operaciones unitarias (un operando)
  function pot() { op = "p2";calcular();}
  function raiz() { op = "sq";calcular(); }
  function inverso() { op = "1/x";calcular();}
  function parte_entera() { op = "int";calcular(); }

  function calcular() {
    if (op === "+") {num.value = (+acc + +num.value)}
    if (op === "-") {num.value = (+acc - +num.value)}
    if (op === "*") {num.value = (+acc * +num.value)}
    if (op === "/") {num.value = (+acc / +num.value)}
    if (op === "pN") {num.value = Math.pow(+acc, +num.value)}
    if (op === "p2") {num.value = (num.value *= num.value)}
    if (op === "1/x") {num.value = (1 / num.value)}
    if (op === "sq") {num.value = (Math.sqrt(num.value))}
    if (op === "int") {num.value = (num.value < 0 ? Math.ceil(num.value) : Math.floor(num.value))}
  }
</script>
</head>
<body>
	<h1>Calculadora</h1>
	<p>Buenos días, bienvenido a la calculadora de Marco Antonio González</p>
	<h2>Requisitos del ejercicio</h2>
	<p>Integrar además en una sola calculadora los siguientes botones de operaciones matemáticas:</p>

	<ol>
		<li>) Operaciones unitarias (con un solo operando):
			<ol>
				<li>1) x^2 (número elevado al cuadrado)</li>
				<li>2) 1/x (inverso del número)</li>
				<li>3) sqrt(x) (raiz cuadrada del número)</li>
				<li>4) parte_entera(x) (parte entera de x: si x es positivo devuelve Math.floor(x) y si es negativo devuelve -Math.ceil(x))</li>
				<li>5) 2^n (potencia n del número 2)</li>
				<li>6) n! (factorial del número n: n*(n-1)*(n-2)*...*3*2*1) </li>
			</ol>
		</li>
		<li>) Operaciones binarias (con dos operandos):
			<ol>
				<li>1) +. -. *, / (suma, resta, multiplicación y división)</li>
				<li>2) x^y (x elevado a y)</li>
			</ol>
		</li>
		<li>) Operaciones con n operandos introducidos en formato CSV:
			<ol>
				<li>1)  sumatorio(x) (sumatorio de n números)</li>
				<li>2) producto(x) (producto de n números)</li>
			</ol>
		</li>
	</ol>

	<p>Número:<input type="text" size="12" id="num"></p>
	<p>
		<button id="mas">+</button>
		<button id="menos">-</button>
		<button id="multiplica">*</button>
		<button id="divide">/</button>

		<button id="potN">x<sup>y</sup></button>
		<button id="pot">x<sup>2</sup></button>
		<button id="inverso">1/x</button>
		<button id="raiz">sqrt(x)</button>
		<button id="parte_entera">parte_entera(x)</button>
		<button id="calcular">=</button>
	</p>
</body>
</html>